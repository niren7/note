# 概念

死锁是指两个或两个以上的进程在执行过程中，因 **争夺资源** 而造成的一种互相等待的现象，若无外力作用，它们都将无法推进下去。

# 四个必要条件

* 互斥条件
    一个资源每次只能被一个进程使用。
* 占有且等待
    一个进程因请求资源而阻塞时，对已获得的资源保持不放。
* 不可强行占有
    进程已获得的资源，在末使用完之前，不能强行剥夺。
* 循环等待条件
    若干进程之间形成一种头尾相接的循环等待资源关系。

# 死锁预防

破坏死锁的四个条件中的一个或几个。

## 互斥

它是设备的固有属性所决定的，不仅不能改变，还应该加以保证。

## 占有且等待

为预防占有且等待条件，可以要求进程一次性的请求所有需要的资源，并且阻塞这个进程直到所有请求都同时满足。这个方法比较低效。

## 不可抢占

* 如果占有某些资源的一个进程进行进一步资源请求时被拒绝，则该进程必须释放它最初占有的资源。
* 如果一个进程请求当前被另一个进程占有的一个资源，则操作系统可以抢占另外一个进程，要求它释放资源。

## 循环等待

通过定义资源类型的线性顺序来预防。

* 如果一个进程已经分配了R类资源，那么接下来请求的资源只能是那些排在R类型之后的资源类型。该方法比较低效。
